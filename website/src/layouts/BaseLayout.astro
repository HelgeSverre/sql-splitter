---
interface Props {
  title: string;
  description?: string;
}

const { title, description = 'High-performance SQL dump toolkit. Split, merge, convert, validate, sample, shard, diff, redact, and query SQL files at 600+ MB/s.' } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>

  <!-- OpenGraph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:url" content="https://sql-splitter.dev">
  <meta property="og:image" content="https://sql-splitter.dev/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  <meta name="twitter:image" content="https://sql-splitter.dev/og-image.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Monda:wght@400;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Analytics -->
  <script src="https://analytics.ahrefs.com/analytics.js" data-key="H3wTjxTyPrwBj0sBuePwhQ" async></script>

  <!-- Theme Color -->
  <meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <style is:global>
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 100px;
    }

    :root {
      --color-bg: #0a0a0a;
      --color-surface: #111111;
      --color-text: #e6edf3;
      --color-text-muted: #8b949e;
      --color-border: #27272a;
      --color-code-bg: #0a0a0a;
      --color-accent: #58a6ff;
      --color-accent-hover: #79b8ff;
      --color-nav-bg: rgba(10, 10, 10, 0.9);

      --cmd-split: #58a6ff;
      --cmd-merge: #a371f7;
      --cmd-analyze: #3fb950;
      --cmd-validate: #3fb950;
      --cmd-convert: #f78166;
      --cmd-sample: #db61a2;
      --cmd-shard: #a371f7;
      --cmd-diff: #ffa657;
      --cmd-redact: #ff7b72;
      --cmd-graph: #7ee787;
      --cmd-order: #79c0ff;
      --cmd-query: #d2a8ff;

      --syn-comment: #6e7681;

      --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      --font-display: 'Monda', var(--font-sans);
      --font-mono: "SF Mono", ui-monospace, "Cascadia Code", "Roboto Mono", Menlo, monospace;

      --max-width: 780px;
      --space-xs: 0.5rem;
      --space-sm: 1rem;
      --space-md: 1.5rem;
      --space-lg: 2.5rem;
      --space-xl: 4rem;

      --radius: 8px;
    }

    [data-theme="light"] {
      --color-bg: #ffffff;
      --color-surface: #f6f8fa;
      --color-text: #24292f;
      --color-text-muted: #57606a;
      --color-border: #d0d7de;
      --color-code-bg: #f6f8fa;
      --color-nav-bg: rgba(255, 255, 255, 0.9);
      --color-accent-hover: #0550ae;

      --cmd-split: #0969da;
      --cmd-merge: #8250df;
      --cmd-analyze: #1a7f37;
      --cmd-validate: #1a7f37;
      --cmd-convert: #bc4c00;
      --cmd-sample: #bf3989;
      --cmd-shard: #8250df;
      --cmd-diff: #953800;
      --cmd-redact: #cf222e;
      --cmd-graph: #116329;
      --cmd-order: #0550ae;
      --cmd-query: #8250df;

      --syn-comment: #6e7681;
    }

    body {
      font-family: var(--font-sans);
      font-size: 16px;
      line-height: 1.7;
      color: var(--color-text);
      background: var(--color-bg);
      -webkit-font-smoothing: antialiased;
      transition: background-color 0.2s, color 0.2s;
    }

    a {
      color: var(--color-accent);
      text-decoration: none;
    }

    a:hover {
      color: var(--color-accent-hover);
    }

    code {
      font-family: var(--font-mono);
      font-size: 0.875em;
      background: var(--color-surface);
      padding: 0.125rem 0.375rem;
      border-radius: 3px;
      color: var(--cmd-split);
    }

    pre code {
      background: none;
      padding: 0;
      color: var(--color-text);
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-content">
      <a href="/" class="logo">
        <span class="logo-icon">;</span>
        sql-splitter
      </a>
      <div class="nav-links">
        <a href="/getting-started/">Docs</a>
        <a href="https://github.com/helgesverre/sql-splitter" target="_blank">GitHub</a>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <main>
    <slot />
  </main>

  <footer>
    <p>
      <a href="https://github.com/helgesverre/sql-splitter">GitHub</a>
      <span class="sep">|</span>
      <a href="https://github.com/helgesverre/sql-splitter/releases">Releases</a>
      <span class="sep">|</span>
      <a href="https://github.com/helgesverre/sql-splitter/blob/main/LICENSE.md">MIT License</a>
      <span class="sep">|</span>
      <a href="/llms.txt">llms.txt</a>
    </p>
    <p class="credit">Built by <a href="https://github.com/helgesverre">Helge Sverre</a></p>
  </footer>

  <script is:inline>
    // Use same storage key as Starlight for theme sync
    const THEME_KEY = 'starlight-theme';

    function getPreferredTheme() {
      const stored = localStorage.getItem(THEME_KEY);
      if (stored) return stored;
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem(THEME_KEY, theme);
    }

    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme') || getPreferredTheme();
      setTheme(current === 'dark' ? 'light' : 'dark');
    }

    setTheme(getPreferredTheme());
  </script>

  <style>
    nav {
      position: sticky;
      top: 0;
      background: var(--color-nav-bg);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--color-border);
      z-index: 100;
    }

    .nav-content {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: var(--space-sm) var(--space-md);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: var(--font-display);
      font-weight: 700;
      font-size: 1.125rem;
      color: var(--color-text);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.375rem;
    }

    .logo:hover {
      color: var(--color-text);
    }

    .logo-icon {
      font-family: var(--font-mono);
      font-size: 1.5em;
      font-weight: 700;
      color: var(--cmd-split);
      text-shadow: 0 0 10px var(--cmd-split);
    }

    [data-theme="light"] .logo-icon {
      text-shadow: none;
    }

    .nav-links {
      display: flex;
      gap: var(--space-md);
      align-items: center;
    }

    .nav-links a {
      color: var(--color-text-muted);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.15s;
    }

    .nav-links a:hover {
      color: var(--cmd-split);
    }

    .theme-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      color: var(--color-text-muted);
      transition: color 0.2s;
      display: flex;
      align-items: center;
    }

    .theme-toggle:hover {
      color: var(--color-text);
    }

    .theme-toggle svg {
      width: 20px;
      height: 20px;
    }

    .theme-toggle .icon-sun {
      display: block;
    }

    .theme-toggle .icon-moon {
      display: none;
    }

    [data-theme="light"] .theme-toggle .icon-sun {
      display: none;
    }

    [data-theme="light"] .theme-toggle .icon-moon {
      display: block;
    }

    main {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: var(--space-lg) var(--space-md);
    }

    footer {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: var(--space-lg) var(--space-md);
      text-align: center;
      border-top: 1px solid var(--color-border);
      font-size: 0.875rem;
      color: var(--color-text-muted);
    }

    footer a {
      color: var(--color-text);
      text-decoration: none;
    }

    footer a:hover {
      color: var(--cmd-split);
    }

    footer .sep {
      margin: 0 0.5rem;
      color: var(--color-border);
    }

    footer .credit {
      margin-top: var(--space-xs);
    }
  </style>
</body>
</html>
